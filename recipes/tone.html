<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ³å¤´å‰ªåˆ€å¸ƒ</title>
    <style>
        .dispeal {
            display: none;
        }
    </style>
</head>

<body>
    <h1>è¿™æ˜¯çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆ</h1>
    <button class="toplay">è¦ç©å—, è¯·æ‰“å¼€æ§åˆ¶å°ï¼Œè¾“å…¥playGame()</button>
    <button onclick="playGame()">playGame()</button>
    <p>è¯¥é¡µé¢è¿˜åœ¨æ–½å·¥</p>
    <form action="" class="dispeal">
        <p>è¯·é€‰æ‹©ï¼š</p>

        <label>
            <input type="radio" name="choice" value="1" checked>
            çŸ³å¤´
        </label><br>

        <label>
            <input type="radio" name="choice" value="0">
            å‰ªåˆ€
        </label><br>

        <label>
            <input type="radio" name="choice" value="-1">
            å¸ƒ
        </label>
        <br>
        <button type="submit">æäº¤</button>
    </form>

    <script>
        const form = document.querySelector('form')


        const play = document.querySelector('.toplay')
        // console.log(play);




        const getHumanChoice = () => {
            // e.preventDefault();

            let inout;

            while (true) {
                input = +prompt('è¯·è¾“å…¥ çŸ³å¤´(1) å‰ªåˆ€(0) å¸ƒ(-1)');

                // éªŒè¯è¾“å…¥æ˜¯å¦ä¸º 1, 0, -1
                if (input === 1 || input === 0 || input === -1) {
                    return input;
                }

                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ï¼š1(çŸ³å¤´), 0(å‰ªåˆ€), -1(å¸ƒ)');
            }


        }

        const getComputerChoice = () => {
            const sum = Math.floor(Math.random() * 3 - 1)

            return sum
        }

        const getChoiceName = (choice) => {
            const map = { 1: "çŸ³å¤´", 0: "å‰ªåˆ€", [-1]: "å¸ƒ" }
            return map[choice]
        }

        const playRound = (arr, roundIndex) => {

            console.log(`\n===ç¬¬${roundIndex + 1}è½®===`);


            const hchoice = getHumanChoice();
            const cchoice = getComputerChoice();

            console.log(` ä½ çš„é€‰æ‹© ${getChoiceName(hchoice)}`);
            console.log(` ç”µè„‘é€‰æ‹© ${getChoiceName(cchoice)}`);



            let difference = hchoice - cchoice;
            if (difference === 1 || difference === -2) {
                console.log("ç©å®¶èµ¢äº†");
                arr[0]++

            }
            if (difference === 0) {
                console.log("å¹³å±€");

            }
            if (difference === -1 || difference === 2) {
                console.log("ç”µè„‘èµ¢äº†");
                arr[1]++
            }



            return [...arr]
        }

        const playGame = () => {
            console.log("ğŸ® å¼€å§‹çŸ³å¤´å‰ªåˆ€å¸ƒæ¸¸æˆï¼");
            console.log("å°†è¿›è¡Œ5è½®æ¸¸æˆï¼Œè¯·ä¾æ¬¡è¾“å…¥ä½ çš„é€‰æ‹©ã€‚\n");

            let arr = [0, 0]
            for(let i = 0 ; i< 5 ; i++){
                arr = playRound(arr,i)
            }
            
            console.log('--------------');
            

            if (arr[0] < arr[1]) {
                console.log('ç”µè„‘æœ€ç»ˆèµ¢')
            }
            if (arr[0] > arr[1]) {
                console.log('ç©å®¶æœ€ç»ˆèµ¢')
            }
            console.log(`ç”µè„‘${arr[1]}åˆ†  , ç©å®¶${arr[0]}åˆ†`)
        }


        console.log('æ¸¸æˆå·²åŠ è½½ï¼Œç‚¹å‡»"å¼€å§‹5è½®æ¸¸æˆ"æŒ‰é’®æˆ–è¾“å…¥ playGame() å¼€å§‹æ¸¸æˆ');

        form.addEventListener('submit', getHumanChoice)

        console.log(Array(5).fill(0));



    </script>


</body>

</html>